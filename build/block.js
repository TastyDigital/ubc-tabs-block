!function(e){var t={};function a(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var s=(0,wp.element.createContext)(null);const r=wp.blockEditor.InnerBlocks,l=wp.element,n=l.useContext,c=l.useEffect;var o=(0,wp.compose.compose)([(0,wp.data.withSelect)(e=>{return{getBlockTypes:e("core/blocks").getBlockTypes}})])(e=>{const t=e.getBlockTypes,a=e.setAttributes,l=e.attributes.index,o=n(s),b=o.currentTabSelected,i=o.tabs,u=o.tabTitles,d=t().map(e=>e.name).filter(e=>"ubc/tabs"!==e&&"ubc/tab"!==e);return c(()=>{const t=i.findIndex(t=>t===e.clientId);a(l===t?{title:u[l]}:{index:t})},[u]),b===l?React.createElement("section",{index:l+1,className:"wp-block-ubc-tab ubc-accordion-tabs__tabs-panel",id:`section${l+1}`,role:"tabpanel","aria-labelledby":`tab${l+1}`},React.createElement("div",{className:"content is-open","aria-hidden":!0},React.createElement(r,{templateLock:!1,allowedBlocks:d}))):null});var b={index:{type:"number",default:null},title:{type:"string",default:"Tab"}};const i=wp.blockEditor.InnerBlocks;const u=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tab",{parent:["ubc/tabs"],title:"UBC Tab Block",description:"Some description",icon:"book-alt",keywords:[u("tab"),u("accordion")],category:"layout",attributes:b,edit:o,save:e=>{const t=e.attributes,a=t.index,s=t.title;return React.createElement("section",{index:a+1,className:`ubc-accordion-tabs__tabs-panel js-tabs-panel${0===a?" active":""}`,id:`section${a+1}`,role:"tabpanel","aria-labelledby":`tab${a+1}`},React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger js-accordeon-trigger","aria-controls":`section${a+1}`,tabIndex:"0"},s,React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger-icon"},React.createElement("span",{className:"label--open"},"Open"),React.createElement("span",{className:"label--close"},"Close"),React.createElement("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 20 20"},React.createElement("rect",{className:"vert",height:"18",width:"2",fill:"currentColor",y:"1",x:"9"}),React.createElement("rect",{height:"2",width:"18",fill:"currentColor",y:"9",x:"1"})))),React.createElement("div",{className:"content"},React.createElement(i.Content,null)))}});var d={tabTitles:{type:"array",default:["Tab1","Tab2"]},initialTabSelected:{type:"number",default:0}};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],s=!0,r=!1,l=void 0;try{for(var n,c=e[Symbol.iterator]();!(s=(n=c.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){r=!0,l=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const m=wp.blockEditor.InspectorControls,f=wp.components,v=f.PanelBody,g=f.PanelRow,y=f.Button,E=f.ButtonGroup,k=wp.blockEditor,h=k.RichText,w=k.InnerBlocks,R=wp.compose.compose,T=wp.data,_=T.withDispatch,B=T.withSelect,N=wp.element.useState;var x=R([B((e,t)=>{return{tabs:(0,e("core/block-editor").getBlockOrder)(t.clientId)}}),_((e,{tabs:t,clientId:a})=>{const s=e("core/block-editor"),r=s.removeBlock,l=s.moveBlocksDown,n=s.moveBlocksUp;return{onMoveDown(e){l(t[e],a)},onMoveUp(e){n(t[e],a)},removeBlock(e){r(t[e])}}})])(e=>{const t=e.attributes,a=e.setAttributes,r=e.removeBlock,l=e.onMoveUp,n=e.onMoveDown,c=e.tabs,o=e.isSelected,b=t.tabTitles,i=t.initialTabSelected,u=t.className,d=p(N(i),2),f=d[0],k=d[1],R=e=>0===e,T=e=>e===b.length-1;return React.createElement("section",{className:`ubc-accordion-tabs ${u||""}`},React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},b.map((e,t)=>React.createElement("li",{role:"presentation",key:t},o?(e=>f===e?React.createElement("div",{className:"ubc-accordion-tabs__tab-toolbar"},React.createElement(y,{onClick:t=>{t.preventDefault();const s=[...b];var r=[s[e],s[e-1]];s[e-1]=r[0],s[e]=r[1],a({tabTitles:s}),l(e),k(e-1)},disabled:R(e)||b.length<=1},React.createElement("span",{className:"dashicons dashicons-arrow-left-alt2"})),React.createElement(y,{onClick:t=>{t.preventDefault();const s=[...b];var r=[s[e+1],s[e]];s[e]=r[0],s[e+1]=r[1],a({tabTitles:s}),n(e),k(e+1)},disabled:T(e)||b.length<=1},React.createElement("span",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(y,{onClick:t=>{t.preventDefault();const s=b.filter((t,a)=>e!==a);a({tabTitles:s}),r(e),0!==s.length&&k(0)}},React.createElement("span",{className:"dashicons dashicons-trash"})),React.createElement(y,{onClick:e=>{e.preventDefault(),a({tabTitles:[...b,"Tab"]})}},React.createElement("span",{className:"dashicons dashicons-plus",style:{marginTop:"3px"}}))):null)(t):null,React.createElement("button",{role:"tab",id:`tab${t}`,"aria-controls":`section${t} `,"aria-selected":t===f,href:`#section${t+1}`,className:`ubc-accordion-tabs__button${t===f?" is-selected":""}`,onClick:e=>{e.preventDefault(),k(t)}},React.createElement(h,{value:e,onChange:e=>((e,t)=>{const s=[...b];s[e]=t,a({tabTitles:s})})(t,e)}))))),React.createElement(s.Provider,{value:{currentTabSelected:f,tabs:c,tabTitles:b}},React.createElement(w,{template:(()=>b.map((function(e,t){return["ubc/tab",{index:t}]})))(),templateLock:"all",allowedBlocks:"ubc/tab"})),React.createElement(m,null,React.createElement(v,{title:"Settings",initialOpen:!0},React.createElement(g,null,"Initial tab selected"),React.createElement(E,{style:{marginTop:"10px"}},b.map((e,t)=>React.createElement(y,{onClick:e=>{e.preventDefault(),a({initialTabSelected:t})},key:t,isPrimary:i===t,isDefault:i!==t},e))))))});var S=function(e){var t,a;return function(e){if("-"===e.substr(e.length-1))return e.substr(0,e.length-1);return e}(function(e){return e.replace(/ +/g,"-").replace(/-{2,}/g,"-")}((a=e.replace(/<[^>]+>/gi,""),t=function(){if(t)return t;var e=[{base:"-",letters:"–—"},{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}];t={};for(var a=0;a<e.length;a++)for(var s=e[a].letters,r=0;r<s.length;r++)t[s[r]]=e[a].base;return t}(),a.replace(/[^\u0000-\u007E]/g,(function(e){return t[e]||e}))).toLowerCase().replace(/[\/\.]/g,"-").replace(/[^\w\s-]+/g,"")))};const C=wp.blockEditor.InnerBlocks;var O=e=>{const t=e.attributes,a=t.tabTitles,s=t.initialTabSelected,r=t.className;return React.createElement("section",{className:`ubc-accordion-tabs ${r||""}`,"data-selected-tab":s},React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},a.map((e,t)=>{const a=e.toLowerCase().replace(/ /g,"-");return React.createElement("li",{id:a,role:"presentation",key:t},React.createElement("a",{role:"tab",id:S(e),"aria-controls":`section${t+1} `,"aria-selected":t===s,className:"ubc-accordion-tabs__tabs-trigger js-tabs-trigger",href:`#section${t+1}`},e))})),React.createElement(C.Content,null))};const j=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tabs",{title:j("UBC Tabs Block","ubc-tabs"),description:j("Some description","ubc-tabs"),icon:"book-alt",keywords:[j("tabs"),j("ubc-tabs")],category:"layout",attributes:d,edit:x,save:O});a(0)}]);