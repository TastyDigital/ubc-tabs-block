!function(e){var t={};function a(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var r=(0,wp.element.createContext)(null);const s=wp.blockEditor.InnerBlocks,l=wp.element,n=l.useContext,c=l.useEffect;var o=(0,wp.compose.compose)([(0,wp.data.withSelect)(e=>{return{getBlockTypes:e("core/blocks").getBlockTypes}})])(e=>{const t=e.getBlockTypes,a=e.setAttributes,l=e.attributes.index,o=n(r),i=o.currentTabSelected,b=o.tabs,u=o.tabTitles,d=t().map(e=>e.name).filter(e=>"ubc/tabs"!==e&&"ubc/tab"!==e);return c(()=>{const t=b.findIndex(t=>t===e.clientId);a(l===t?{title:u[l]}:{index:t})},[u,b,e.clientId]),i===l?React.createElement("section",{index:l+1,className:"wp-block-ubc-tab ubc-accordion-tabs__tabs-panel",id:`section${l+1}`,role:"tabpanel","aria-labelledby":`tab${l+1}`},React.createElement("div",{className:"content is-open","aria-hidden":!0},React.createElement(s,{templateLock:!1,allowedBlocks:d,renderAppender:()=>React.createElement(s.ButtonBlockAppender,null)}))):null});var i={index:{type:"number",default:null},title:{type:"string",default:"Tab"}};const b=wp.blockEditor.InnerBlocks;const u=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tab",{parent:["ubc/tabs"],title:"UBC Tab Block",description:u("Add accessible tabs of content which convert to accordions on smaller screens."),icon:()=>React.createElement("svg",{enableBackground:"new 0 0 32 32",height:"32px",id:"svg2",version:"1.1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{id:"background"},React.createElement("rect",{fill:"none",height:"32",width:"32",x:"0"})),React.createElement("g",{id:"tab"},React.createElement("path",{d:"M30,10V6h-8v4h-2V6h-8v4H10V6H0v20h32V10H30z M29.999,24.001H2V8h6v3.999h21.999V24.001z"}))),keywords:[u("tab"),u("accordion")],category:"layout",attributes:i,edit:o,save:e=>{const t=e.attributes,a=t.index,r=t.title;return React.createElement("section",{index:a+1,className:`ubc-accordion-tabs__tabs-panel js-tabs-panel${0===a?" active":""}`,id:`section${a+1}`,role:"tabpanel","aria-labelledby":`tab${a+1}`},React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger js-accordeon-trigger","aria-controls":`section${a+1}`,tabIndex:"0"},r,React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger-icon"},React.createElement("span",{className:"label--open"},"Open"),React.createElement("span",{className:"label--close"},"Close"),React.createElement("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 20 20"},React.createElement("rect",{className:"vert",height:"18",width:"2",fill:"currentColor",y:"1",x:"9"}),React.createElement("rect",{height:"2",width:"18",fill:"currentColor",y:"9",x:"1"})))),React.createElement("div",{className:"content"},React.createElement(b.Content,null)))}});var d={tabTitles:{type:"array",default:["Tab1","Tab2"]},initialTabSelected:{type:"number",default:0}};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,s=!1,l=void 0;try{for(var n,c=e[Symbol.iterator]();!(r=(n=c.next()).done)&&(a.push(n.value),!t||a.length!==t);r=!0);}catch(e){s=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(s)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const m=wp.blockEditor.InspectorControls,v=wp.components,f=v.PanelBody,h=v.PanelRow,g=v.Button,E=v.ButtonGroup,w=wp.blockEditor,R=w.RichText,y=w.InnerBlocks,k=wp.compose.compose,x=wp.data,T=x.withDispatch,B=x.withSelect,_=wp.element.useState;var N=k([B((e,t)=>{return{tabs:(0,e("core/block-editor").getBlockOrder)(t.clientId)}}),T((e,{tabs:t,clientId:a})=>{const r=e("core/block-editor"),s=r.removeBlock,l=r.moveBlocksDown,n=r.moveBlocksUp;return{onMoveDown(e){l(t[e],a)},onMoveUp(e){n(t[e],a)},removeBlock(e){s(t[e])}}})])(e=>{const t=e.attributes,a=e.setAttributes,s=e.removeBlock,l=e.onMoveUp,n=e.onMoveDown,c=e.tabs,o=e.isSelected,i=t.tabTitles,b=t.initialTabSelected,u=t.className,d=p(_(b||0),2),v=d[0],w=d[1],k=e=>0===e,x=e=>e===i.length-1;return React.createElement("section",{className:`ubc-accordion-tabs ${u||""}`},React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},i.map((e,t)=>React.createElement("li",{role:"presentation",key:t},o?(e=>v===e?React.createElement("div",{className:"ubc-accordion-tabs__tab-toolbar"},React.createElement(g,{onClick:t=>{t.preventDefault();const r=[...i];var s=[r[e],r[e-1]];r[e-1]=s[0],r[e]=s[1],a({tabTitles:r}),l(e),w(e-1)},disabled:k(e)||i.length<=1},React.createElement("span",{className:"dashicons dashicons-arrow-left-alt2"})),React.createElement(g,{onClick:t=>{t.preventDefault();const r=[...i];var s=[r[e+1],r[e]];r[e]=s[0],r[e+1]=s[1],a({tabTitles:r}),n(e),w(e+1)},disabled:x(e)||i.length<=1},React.createElement("span",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(g,{onClick:t=>{t.preventDefault();const r=i.filter((t,a)=>e!==a);a({tabTitles:r}),s(e),0!==r.length&&w(0)}},React.createElement("span",{className:"dashicons dashicons-trash"})),React.createElement(g,{onClick:e=>{e.preventDefault(),a({tabTitles:[...i,"Tab"]})}},React.createElement("span",{className:"dashicons dashicons-plus",style:{marginTop:"3px"}}))):null)(t):null,React.createElement("button",{role:"tab",id:`tab${t}`,"aria-controls":`section${t} `,"aria-selected":t===v,href:`#section${t+1}`,className:`ubc-accordion-tabs__button${t===v?" is-selected":""}`,onClick:e=>{e.preventDefault(),w(t)}},React.createElement(R,{value:e,onChange:e=>((e,t)=>{const r=[...i];r[e]=t,a({tabTitles:r})})(t,e)}))))),React.createElement(r.Provider,{value:{currentTabSelected:v,tabs:c,tabTitles:i}},React.createElement(y,{template:(()=>i.map((function(e,t){return["ubc/tab",{index:t}]})))(),templateLock:"all",allowedBlocks:"ubc/tab"})),React.createElement(m,null,React.createElement(f,{title:"Settings",initialOpen:!0},React.createElement(h,null,"Initial tab selected"),React.createElement(E,{style:{marginTop:"10px"}},i.map((e,t)=>React.createElement(g,{onClick:e=>{e.preventDefault(),a({initialTabSelected:t})},key:t,isPrimary:b===t,isDefault:b!==t},e))))))});var S=function(e){var t,a;return function(e){if("-"===e.substr(e.length-1))return e.substr(0,e.length-1);return e}(function(e){return e.replace(/ +/g,"-").replace(/-{2,}/g,"-")}((a=e.replace(/<[^>]+>/gi,""),t=function(){if(t)return t;var e=[{base:"-",letters:"–—"},{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}];t={};for(var a=0;a<e.length;a++)for(var r=e[a].letters,s=0;s<r.length;s++)t[r[s]]=e[a].base;return t}(),a.replace(/[^\u0000-\u007E]/g,(function(e){return t[e]||e}))).toLowerCase().replace(/[\/\.]/g,"-").replace(/[^\w\s-]+/g,"")))};const C=wp.blockEditor.InnerBlocks;var O=e=>{const t=e.attributes,a=t.tabTitles,r=t.initialTabSelected,s=t.className;return React.createElement("section",{className:`ubc-accordion-tabs ${s||""}`,"data-selected-tab":r},React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},a.map((e,t)=>{const a=e.toLowerCase().replace(/ /g,"-");return React.createElement("li",{id:a,role:"presentation",key:t},React.createElement("a",{role:"tab",id:S(e),"aria-controls":`section${t+1} `,"aria-selected":t===r,className:"ubc-accordion-tabs__tabs-trigger js-tabs-trigger",href:`#section${t+1}`},e))})),React.createElement(C.Content,null))};const j=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tabs",{title:j("UBC Tabs Block","ubc-tabs"),description:j("Add accessible tabs of content which convert to accordions on smaller screens.","ubc-tabs"),icon:()=>React.createElement("svg",{enableBackground:"new 0 0 32 32",height:"32px",id:"svg2",version:"1.1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{id:"background"},React.createElement("rect",{fill:"none",height:"32",width:"32",x:"0"})),React.createElement("g",{id:"tab"},React.createElement("path",{d:"M30,10V6h-8v4h-2V6h-8v4H10V6H0v20h32V10H30z M29.999,24.001H2V8h6v3.999h21.999V24.001z"}))),keywords:[j("tabs"),j("ubc-tabs")],category:"layout",attributes:d,edit:N,save:O});a(0)}]);