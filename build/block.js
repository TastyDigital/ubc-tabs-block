!function(){"use strict";var e=(0,wp.element.createContext)(null);const t=wp.blockEditor.InnerBlocks,a=wp.element,l=a.useContext,s=a.useEffect;var r=(0,wp.compose.compose)([(0,wp.data.withSelect)((e=>({getBlockTypes:e("core/blocks").getBlockTypes})))])((a=>{const r=a.getBlockTypes,n=a.setAttributes,c=a.attributes.index,o=l(e),i=o.currentTabSelected,b=o.tabs,u=o.tabTitles,d=r().map((e=>e.name)).filter((e=>"ubc/tabs"!==e&&"ubc/tab"!==e));return s((()=>{const e=b.findIndex((e=>e===a.clientId));n(c===e?{title:u[c]}:{index:e})}),[u,b,a.clientId,c]),i===c?React.createElement("section",{index:c+1,className:"wp-block-ubc-tab ubc-accordion-tabs__tabs-panel",id:`section${c+1}`,role:"tabpanel","aria-labelledby":`tab${c+1}`},React.createElement("div",{className:"content is-open","aria-hidden":!0},React.createElement(t,{templateLock:!1,allowedBlocks:d,renderAppender:()=>React.createElement(t.ButtonBlockAppender,null)}))):null}));const n=wp.blockEditor.InnerBlocks,__=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tab",{parent:["ubc/tabs"],title:"UBC Tab Block",description:__("Add accessible tabs of content which convert to accordions on smaller screens."),icon:()=>React.createElement("svg",{enableBackground:"new 0 0 32 32",height:"32px",id:"svg2",version:"1.1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{id:"background"},React.createElement("rect",{fill:"none",height:"32",width:"32",x:"0"})),React.createElement("g",{id:"tab"},React.createElement("path",{d:"M30,10V6h-8v4h-2V6h-8v4H10V6H0v20h32V10H30z M29.999,24.001H2V8h6v3.999h21.999V24.001z"}))),keywords:[__("tab"),__("accordion")],category:"layout",attributes:{index:{type:"number",default:null},title:{type:"string",default:"Tab"}},edit:r,save:e=>{const t=e.attributes,a=t.index,l=t.title;return React.createElement("section",{index:a+1,className:"ubc-accordion-tabs__tabs-panel js-tabs-panel"+(0===a?" active":""),id:`section${a+1}`,role:"tabpanel","aria-labelledby":`tab${a+1}`},React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger js-accordeon-trigger","aria-controls":`section${a+1}`,tabIndex:"0"},l,React.createElement("div",{className:"ubc-accordion-tabs__accordion-trigger-icon"},React.createElement("span",{className:"label--open"},"Open"),React.createElement("span",{className:"label--close"},"Close"),React.createElement("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 20 20"},React.createElement("rect",{className:"vert",height:"18",width:"2",fill:"currentColor",y:"1",x:"9"}),React.createElement("rect",{height:"2",width:"18",fill:"currentColor",y:"9",x:"1"})))),React.createElement("div",{className:"content"},React.createElement(n.Content,null)))}});function c(e,t,a,l,s,r,n){try{var c=e[r](n),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(l,s)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}const i=wp.blockEditor.InspectorControls,b=wp.components,u=b.PanelBody,d=b.PanelRow,p=b.Button,m=b.ButtonGroup,h=b.ToggleControl,v=b.SelectControl,g=wp.blockEditor,f=g.RichText,y=g.InnerBlocks,E=g.useBlockProps,w=wp.compose.compose,R=wp.data,k=R.withDispatch,T=R.withSelect,B=wp.element.useState;var x=w([T(((e,t)=>({tabs:(0,e("core/block-editor").getBlockOrder)(t.clientId),rootId:t.clientId}))),k(((e,{tabs:t,clientId:a})=>{const l=e("core/block-editor"),s=l.removeBlock,r=l.moveBlocksDown,n=l.moveBlocksUp;return{onMoveDown(e){r([t[e]],a)},onMoveUp(e){n([t[e]],a)},removeBlock(e){s(t[e])},insertBlock:l.insertBlock}}))])((t=>{const a=t.attributes,l=t.setAttributes,s=t.removeBlock,r=t.onMoveUp,n=t.onMoveDown,b=t.tabs,g=t.isSelected,w=t.rootId,R=t.insertBlock,k=a.tabTitles,T=a.initialTabSelected,x=a.className,S=a.sideTabLayout,C=a.styleString,N=($=B(T||0),D=2,function(e){if(Array.isArray(e))return e}($)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,s,_x,r,n=[],_n=!0,c=!1;try{if(_x=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;_n=!1}else for(;!(_n=(l=_x.call(a)).done)&&(n.push(l.value),n.length!==t);_n=!0);}catch(e){c=!0,s=e}finally{try{if(!_n&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(c)throw s}}return n}}($,D)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}($,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=N[0],_=N[1],I=E({className:`ubc-accordion-tabs ${x||""} tabs-style-${C}  ${S&&" side-tab-layout"}`}),O=e=>e===k.length-1,j=e=>{return A===e?React.createElement("div",{className:"ubc-accordion-tabs__tab-toolbar"},React.createElement(p,{onClick:t=>{t.preventDefault();const a=[...k];var s=[a[e],a[e-1]];a[e-1]=s[0],a[e]=s[1],l({tabTitles:a}),r(e),_(e-1)},disabled:(t=e,0===t||k.length<=1)},React.createElement("span",{className:"dashicons dashicons-arrow-left-alt2"})),React.createElement(p,{onClick:t=>{t.preventDefault();const a=[...k];var s=[a[e+1],a[e]];a[e]=s[0],a[e+1]=s[1],l({tabTitles:a}),n(e),_(e+1)},disabled:O(e)||k.length<=1},React.createElement("span",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(p,{onClick:t=>{t.preventDefault();const a=k.filter(((t,a)=>e!==a));l({tabTitles:a}),s(e),0!==a.length&&_(0)}},React.createElement("span",{className:"dashicons dashicons-trash"})),React.createElement(p,{onClick:function(){var e,t=(e=function*(e){e.preventDefault(),yield R(wp.blocks.createBlock("ubc/tab",{index:b.length}),b.length,w),l({tabTitles:[...k,"Tab"]})},function(){var t=this,a=arguments;return new Promise((function(l,s){var r=e.apply(t,a);function n(e){c(r,l,s,n,o,"next",e)}function o(e){c(r,l,s,n,o,"throw",e)}n(void 0)}))});return function(e){return t.apply(this,arguments)}}()},React.createElement("span",{className:"dashicons dashicons-plus",style:{marginTop:"3px"}}))):null;var t};var $,D;return React.createElement("section",I,React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},k.map(((e,t)=>React.createElement("li",{role:"presentation",key:t},g?j(t):null,React.createElement("button",{role:"tab",id:`tab${t}`,"aria-controls":`section${t} `,"aria-selected":t===A,href:`#section${t+1}`,className:"ubc-accordion-tabs__button"+(t===A?" is-selected":""),onClick:e=>{e.preventDefault(),_(t)}},React.createElement(f,{value:e,onChange:e=>((e,t)=>{const a=[...k];a[e]=t,l({tabTitles:a})})(t,e)})))))),React.createElement(e.Provider,{value:{currentTabSelected:A,tabs:b,tabTitles:k}},React.createElement(y,{template:k.map((function(e,t){return["ubc/tab",{index:t}]})),templateLock:!1,allowedBlocks:["ubc/tab"],renderAppender:!1})),React.createElement(i,null,React.createElement(u,{title:"Settings",initialOpen:!0},React.createElement(d,null,"Initial tab selected"),React.createElement(m,{style:{marginTop:"10px"}},k.map(((e,t)=>React.createElement(p,{onClick:e=>{e.preventDefault(),l({initialTabSelected:t})},key:t,isPrimary:T===t,isDefault:T!==t},e)))),React.createElement("hr",null),React.createElement(d,null,"Tab Format"),React.createElement(h,{label:"Switch to side tab layout",help:S?"Side tab layout selected":"Defoult layout",checked:S,onChange:e=>{l({sideTabLayout:e})}}),React.createElement("hr",null),React.createElement(d,null,"Style options"),React.createElement(v,{label:"Preferred style",value:C,options:[{label:"Plain",value:"plain"},{label:"Colourful",value:"colorful"}],onChange:e=>l({styleString:e})}))))}));function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},S.apply(this,arguments)}const C=wp.blockEditor,N=C.InnerBlocks,A=C.useBlockProps;const _=wp.i18n.__;(0,wp.blocks.registerBlockType)("ubc/tabs",{title:_("UBC Tabs Block","ubc-tabs"),description:_("Add accessible tabs of content which convert to accordions on smaller screens.","ubc-tabs"),icon:()=>React.createElement("svg",{enableBackground:"new 0 0 32 32",height:"32px",id:"svg2",version:"1.1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{id:"background"},React.createElement("rect",{fill:"none",height:"32",width:"32",x:"0"})),React.createElement("g",{id:"tab"},React.createElement("path",{d:"M30,10V6h-8v4h-2V6h-8v4H10V6H0v20h32V10H30z M29.999,24.001H2V8h6v3.999h21.999V24.001z"}))),keywords:[_("tabs"),_("ubc-tabs")],category:"layout",attributes:{tabTitles:{type:"array",default:["Tab1","Tab2"]},initialTabSelected:{type:"number",default:0},sideTabLayout:{type:"boolean",default:!1},styleString:{type:"string",default:"plain"}},supports:{align:["wide"]},edit:x,save:e=>{const t=e.attributes,a=t.tabTitles,l=t.initialTabSelected,s=t.className,r=t.sideTabLayout,n=t.styleString,c=A.save({className:`ubc-accordion-tabs ${s||""} tabs-style-${n}  ${r&&" side-tab-layout"}`});return React.createElement("section",S({"data-selected-tab":l},c),React.createElement("ul",{className:"ubc-accordion-tabs__tab-list",role:"tablist"},a.map(((e,t)=>{const a=e.toLowerCase().replace(/ /g,"-");return React.createElement("li",{id:a,role:"presentation",key:t},React.createElement("a",{role:"tab",id:(s=e,function(e){return"-"===e.substr(e.length-1)?e.substr(0,e.length-1):e}(function(e){return e.replace(/ +/g,"-").replace(/-{2,}/g,"-")}((n=s.replace(/<[^>]+>/gi,""),r=function(){if(r)return r;var e=[{base:"-",letters:"–—"},{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}];r={};for(var t=0;t<e.length;t++)for(var a=e[t].letters,l=0;l<a.length;l++)r[a[l]]=e[t].base;return r}(),n.replace(/[^\u0000-\u007E]/g,(function(e){return r[e]||e}))).toLowerCase().replace(/[\/\.]/g,"-").replace(/[^\w\s-]+/g,"")))),"aria-controls":`section${t+1} `,"aria-selected":t===l,className:"ubc-accordion-tabs__tabs-trigger js-tabs-trigger",href:`#section${t+1}`},e));var s,r,n}))),React.createElement(N.Content,null))}})}();